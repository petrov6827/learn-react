(this["webpackJsonplearn-react"]=this["webpackJsonplearn-react"]||[]).push([[0],{132:function(e,t){e.exports="data:image/png;base64,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"},133:function(e,t,n){e.exports={lds_roller:"Loader_lds_roller__2mOzb"}},134:function(e,t,n){e.exports={settings:"Settings_settings__TQlU_"}},135:function(e,t,n){},136:function(e,t,n){e.exports={profile__status:"ProfileStatus_profile__status__-dgkU"}},15:function(e,t,n){e.exports={nav:"Navbar_nav__3cHYR",nav__item:"Navbar_nav__item__1vH5j",links:"Navbar_links__yHiUp",active:"Navbar_active__21R_N",settings:"Navbar_settings__1F7Bj"}},163:function(e,t,n){e.exports=n(289)},164:function(e,t,n){},18:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2Gkkf",d__content:"Dialogs_d__content___wdt3",d__items:"Dialogs_d__items__8eF0G",message:"Dialogs_message__3-b-X",d__friends:"Dialogs_d__friends__10VN2",active:"Dialogs_active__3lrrn",input:"Dialogs_input__3LMYq",sendMessage:"Dialogs_sendMessage__3e2-u"}},289:function(e,t,n){"use strict";n.r(t);n(164),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a=n(0),r=n.n(a),s=n(64),o=n.n(s),i=n(23),u=n(24),l=n(26),c=n(25),m=n(27),p=n(86),f=n.n(p),d=n(15),g=n.n(d),_=n(11),h=function(){return r.a.createElement("div",{className:"".concat(g.a.nav)},r.a.createElement("div",{className:g.a.nav__item},r.a.createElement(_.b,{to:"/profile",className:g.a.links,activeClassName:g.a.active},"\u041c\u043e\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430")),r.a.createElement("div",{className:"".concat(g.a.nav__item)},r.a.createElement(_.b,{to:"/dialogs",className:g.a.links,activeClassName:g.a.active},"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f")),r.a.createElement("div",{className:"".concat(g.a.nav__item)},r.a.createElement(_.b,{to:"/users",className:g.a.links,activeClassName:g.a.active},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438")),r.a.createElement("div",{className:"".concat(g.a.nav__item)},r.a.createElement(_.b,{to:"/settings",className:g.a.links,activeClassName:g.a.settings},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438")))},E=n(38),b=n(9),v={messages:[{id:1,message:"\u041f\u0440\u0438\u0432\u0435\u0442 \u043f\u043e\u0448\u043b\u0438 \u043d\u0430 \u0444\u0443\u0442\u0431\u043e\u043b"},{id:2,message:"\u0422\u044b \u0433\u0434\u0435 \u0431\u044b\u043b?"},{id:3,message:"\u0417\u0430\u043d\u044f\u0442\u0438\u044f \u043e\u0442\u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f"},{id:4,message:"\u0421\u043a\u0438\u0434\u044b\u0432\u0430\u0435\u043c\u0441\u044f \u043f\u043e 200 \u0440\u0443\u0431"}],dialogs:[{id:1,name:"\u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0411\u043e\u043a\u0441"},{id:2,name:"\u0410\u043d\u0442\u043e\u043d \u0424\u0443\u0442\u0431\u043e\u043b"},{id:3,name:"\u041d\u0430\u0442\u0430\u0448\u043a\u0430 \u041f\u043b\u0430\u0432\u0430\u043d\u0438\u0435"},{id:4,name:"\u041c\u0438\u0448\u0430 \u041f\u0430\u0440\u0430\u0448\u044e\u0442"},{id:5,name:"\u0410\u043d\u0434\u0440\u0435\u0439 "},{id:6,name:"\u0411\u043e\u0440\u0438\u0441 \u0431\u043e\u0440\u0446\u0443\u0445\u0430"}]},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE-NEW-MESSAGE-BODY":return Object(b.a)({},e,{newMessageBody:t.body});case"SEND-MESSAGE":var n=t.newMessageBody;return Object(b.a)({},e,{messages:[].concat(Object(E.a)(e.messages),[{id:5,message:n}])});default:return e}},P=n(18),S=n.n(P),w=function(e){var t="/dialogs"+e.id;return r.a.createElement("div",{className:S.a.d__items+" "+S.a.active},r.a.createElement(_.b,{to:t},e.name))},N=function(e){return r.a.createElement("div",{className:S.a.message},e.message)},A=n(125),j=n(126),k=function(e){return e?void 0:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442"},C=function(e){return e?void 0:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d"},y=function(e){return e?void 0:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"},T=function(e){return function(t){return t&&t.length>e?"\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 ".concat(e," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):void 0}},I=T(10),x=T(15),U=n(67),R=n(88),D=n.n(R),F=function(e){var t=e.input,n=(e.type,e.meta),a=n.touched,s=n.error,o=n.warning,i=Object(U.a)(e,["input","type","meta"]),u=a&&s;return r.a.createElement("div",{className:D.a.form__control+" "+(u?D.a.error:"")},r.a.createElement("div",null,r.a.createElement("textarea",Object.assign({},t,i))),a&&(s&&r.a.createElement("span",null,s)||o&&r.a.createElement("span",null,o)))},L=Object(j.a)({form:"dialogAddMessageForm"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:S.a.input},r.a.createElement(A.a,{name:"newMessageBody",component:F,validate:I,cols:"40",rows:"2",placeholder:"enter your message",className:S.a.input}),r.a.createElement("button",{className:S.a.sendMessage},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))})),z=function(e){var t=e.dialogsPage,n=t.dialogs.map((function(e){return r.a.createElement(w,{name:e.name,id:e.id})})),a=t.messages.map((function(e){return r.a.createElement(N,{message:e.message,id:e.id})}));return r.a.createElement("div",{className:S.a.dialogs},r.a.createElement("h1",null,"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"),r.a.createElement("div",{className:S.a.d__content},r.a.createElement("div",{className:S.a.d__friends},n),r.a.createElement("div",{className:S.a.d__messages},r.a.createElement("div",null,a),r.a.createElement(L,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}}))))},M=n(10),H=n(33),B=function(e){return{isAuth:e.auth.isAuth}},G=n(6),Q=Object(G.d)(Object(M.b)((function(e){return{dialogsPage:e.dialogsPage}}),{sendMessage:function(e){return{type:"SEND-MESSAGE",newMessageBody:e}},updateNewMessageBody:function(e){return{type:"UPDATE-NEW-POST-TEXT",body:e}}}),(function(e){var t=function(t){function n(){return Object(i.a)(this,n),Object(l.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(m.a)(n,t),Object(u.a)(n,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement(e,this.props):r.a.createElement(H.a,{to:"/login"})}}]),n}(r.a.Component);return Object(M.b)(B)(t)}))(z),W=n(8),Y=n.n(W),Z=n(19),V=n(131).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"4ab334bc-c44a-4a21-a3c6-08016163f3f7"}}),q={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return V.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return V.post("follow/".concat(e),{})},unfollow:function(e){return V.delete("follow/".concat(e))},getProfile:function(e){return console.warn("Absolute method. Please use profileAPI object"),K.getProfile(e)}},K={getProfile:function(e){return V.get("profile/"+e)},getStatus:function(e){return V.get("profile/status/"+e)},updateStatus:function(e){return V.put("profile/status/",{status:e})}},X=function(){return V.get("/auth/me")},J=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return V.post("/auth/login",{email:e,password:t,rememberMe:n})},$=function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return V.delete("/auth/login")},ee=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(b.a)({},e,{},a):e}))},te={users:[],pageSize:10,totalUsersCount:1,currentPage:10,isFetching:!0,followingInProgress:[]},ne=function(e){return{type:"FOLLOW",userId:e}},ae=function(e){return{type:"UNFOLLOW",userId:e}},re=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},se=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},oe=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},ie=function(){var e=Object(Z.a)(Y.a.mark((function e(t,n,a,r){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(oe(!0,n)),e.next=3,a(n);case 3:0===e.sent.data.resultCode&&t(ne(n)),t(oe(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(b.a)({},e,{users:ee(e.users,t.userId,"id",{followed:!0})});case"UNFOLLOW":return Object(b.a)({},e,{users:ee(e.users,t.userId,"id",{followed:!1})});case"SET_USERS":return Object(b.a)({},e,{users:Object(E.a)(t.users)});case"SET_CURRENT_PAGE":return Object(b.a)({},e,{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(b.a)({},e,{totalUsersCount:t.count});case"TOGGLE_IS_FETCHING":return Object(b.a)({},e,{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(b.a)({},e,{followingInProgress:t.isFetching?[].concat(Object(E.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},le=n(34),ce=n.n(le),me=n(54),pe=n(92),fe=n.n(pe),de=function(e){for(var t=e.totalItemsCount,n=e.pageSize,s=e.currentPage,o=e.onPageChanged,i=e.portionSize,u=void 0===i?10:i,l=Math.ceil(t/n),c=[],m=1;m<=l;m++)c.push(m);var p=Math.ceil(l/u),f=Object(a.useState)(1),d=Object(me.a)(f,2),g=d[0],_=d[1],h=(g-1)*u+1,E=g*u;return r.a.createElement("div",{className:fe.a.pages},p>1&&r.a.createElement("button",{onClick:function(){_(g-1)}},"prev"),c.filter((function(e){return e>=h&&e<=E})).map((function(e){return r.a.createElement("span",{className:s===e&&fe.a.selectedPage,key:e,onClick:function(t){o(e)}}," ",e," ")})),p>g&&r.a.createElement("button",{onClick:function(){_(g+1)}},"next"))},ge=n(132),_e=n.n(ge),he=function(e){var t=e.user,n=e.followingInProgress,a=e.follow,s=e.unfollow;return r.a.createElement("div",{className:ce.a.user__item},r.a.createElement("div",null,r.a.createElement(_.b,{to:"profile/"+t.id},r.a.createElement("img",{src:null!=t.photos.small?t.photos.small:_e.a,className:ce.a.img,alt:"\u0430\u0432\u0430\u0442\u0430\u0440\u043a\u0430"})),r.a.createElement("div",null,t.followed?r.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){s(t.id)}},"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"):r.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)}},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"))),r.a.createElement("div",{className:ce.a.about},t.name),r.a.createElement("div",{className:ce.a.about},t.status),r.a.createElement("div",{className:ce.a.about},t.photos.small))},Ee=function(e){e.follow,e.unfollow;for(var t=e.users,n=e.currentPage,a=(e.selectedPage,e.onPageChanged),s=e.totalUsersCount,o=e.pageSize,i=Object(U.a)(e,["follow","unfollow","users","currentPage","selectedPage","onPageChanged","totalUsersCount","pageSize"]),u=Math.ceil(i.totalUsersCount/i.pageSize),l=[],c=1;c<=u;c++)l.push(c);return r.a.createElement("div",{className:ce.a.users},r.a.createElement("h1",null," \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 "),r.a.createElement(de,{currentPage:n,totalItemsCount:s,onPageChanged:a,pageSize:o}),r.a.createElement("div",null,t.map((function(e){return r.a.createElement(he,{user:e,key:e.id,followingInProgress:i.followingInProgress,unfollow:i.unfollow,follow:i.follow})}))))},be=n(133),ve=n.n(be),Oe=function(){return r.a.createElement("div",{className:ve.a.lds_roller},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},Pe=function(e){return e.usersPage.users.filter((function(e){return!0}))},Se=function(e){return e.usersPage.pageSize},we=function(e){return e.usersPage.totalUsersCount},Ne=function(e){return e.usersPage.currentPage},Ae=function(e){return e.usersPage.isFetching},je=function(e){return e.usersPage.followingInProgress},ke=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).onPageChanged=function(e){var t=n.props.pageSize;n.props.requestUsersThunk(e,t)},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.requestUsersThunk(t,n)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(Oe,null):null,r.a.createElement(Ee,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,onPageChanged:this.onPageChanged,followThunk:this.props.followThunk,unfollowThunk:this.props.unfollowThunk,followingInProgress:this.props.followingInProgress}))}}]),t}(r.a.Component),Ce=Object(G.d)(Object(M.b)((function(e){return{profile:e.profilePage.profile,users:Pe(e),pageSize:Se(e),totalUsersCount:we(e),currentPage:Ne(e),isFetching:Ae(e),followingInProgress:je(e)}}),{followThunk:function(e){return function(){var t=Object(Z.a)(Y.a.mark((function t(n){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ie(n,e,q.follow.bind(q),ne));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollowThunk:function(e){return function(){var t=Object(Z.a)(Y.a.mark((function t(n){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ie(n,e,q.unfollow.bind(q),ae));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:re,toggleFollowingProgress:oe,requestUsersThunk:function(e,t){return function(){var n=Object(Z.a)(Y.a.mark((function n(a){var r;return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(se(!0)),a(re(e)),n.next=4,q.getUsers(e,t);case 4:r=n.sent,a(se(!1)),a({type:"SET_USERS",users:r.items}),a({type:"SET_TOTAL_USERS_COUNT",count:r.totalCount});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}),H.f)(ke),ye=n(134),Te=n.n(ye),Ie=function(){return r.a.createElement("div",{className:Te.a.Settings},r.a.createElement("h1",null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"))},xe=n(93),Ue=n.n(xe),Re={posts:[{id:1,message:"Hi, how r u? ",likesCount:"20"},{id:2,message:"It's my second post",likesCount:"5"},{id:3,message:"What sports do u like more? ",likesCount:"2"}],profile:null,status:""},De=function(e){return{type:"SET_STATUS",status:e}},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var n={id:4,message:t.newPostText,likesCount:0};return Object(b.a)({},e,{posts:[].concat(Object(E.a)(e.posts),[n]),newPostText:""});case"SET_STATUS":return Object(b.a)({},e,{status:t.status});case"SET_USER_PROFILE":return Object(b.a)({},e,{profile:t.profile});default:var a=Object(b.a)({},e);return a}},Le=n(69),ze=n.n(Le),Me=n(94),He=n.n(Me),Be=function(e,t){return r.a.createElement("div",{className:He.a.post__item},r.a.createElement("img",{alt:"\u0430\u0432\u0430\u0442\u0430\u0440\u043a\u0430",src:"https://i.pinimg.com/736x/ce/ff/af/ceffaf6a57c0935cda8d56d4db594d02.jpg"}),e.message,r.a.createElement("span",{className:He.a.post__like},e.likesCount," like"))},Ge=Object(j.a)({form:"ProfileAddNewPostTextForm"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(A.a,{name:"newPostText",component:F,validate:[k,x],cols:"40",rows:"2",className:ze.a.area__input,placeholder:"type ur text"}),r.a.createElement("button",{className:ze.a.post__send},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u0442"))})),Qe=function(e){var t=e.posts.map((function(e){return r.a.createElement(Be,{message:e.message,likesCount:e.likesCount,key:e.id})}));return r.a.createElement("div",{className:ze.a.myposts},r.a.createElement("h1",null,"\u041c\u043e\u0438 \u043f\u043e\u0441\u0442\u044b"),r.a.createElement(Ge,{onSubmit:function(t){e.addPost(t.newPostText)}}),r.a.createElement("div",null,t))},We=Object(M.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:"ADD-POST",newPostText:e}}(t))}}}))(Qe),Ye=n(135),Ze=n.n(Ye),Ve=n(136),qe=n.n(Ve),Ke=function(e){var t=Object(a.useState)(!1),n=Object(me.a)(t,2),s=n[0],o=n[1],i=Object(a.useState)(e.status),u=Object(me.a)(i,2),l=u[0],c=u[1];Object(a.useEffect)((function(){c(e.status)}),[e.status]);return r.a.createElement("div",null,!s&&r.a.createElement("div",{className:qe.a.profile__status},r.a.createElement("span",{onDoubleClick:function(){o(!0)}},l||"-----")),s&&r.a.createElement("div",null,r.a.createElement("input",{autoFocus:!0,onBlur:function(){o(!1),e.updateStatus(l)},value:l,onChange:function(e){c(e.currentTarget.value)}})))},Xe=function(e){return r.a.createElement("div",{className:Ze.a.profile__info},r.a.createElement(Ke,{status:e.status,updateStatus:e.updateStatus}))},Je=function(e){return r.a.createElement("div",{className:Ue.a.profile},r.a.createElement("div",{className:Ue.a.profile__item},r.a.createElement(Xe,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),r.a.createElement(We,null)))},$e=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return r.a.createElement(Je,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),t}(r.a.Component),et=Object(G.d)(Object(M.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:function(e){return function(){var t=Object(Z.a)(Y.a.mark((function t(n){var a;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q.getProfile(e);case 2:a=t.sent,n({type:"SET_USER_PROFILE",profile:a.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(Z.a)(Y.a.mark((function t(n){var a;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.getStatus(e);case 2:a=t.sent,n(De(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(Z.a)(Y.a.mark((function t(n){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(De(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),H.f)($e),tt=n(55),nt=n.n(tt),at=function(e){return r.a.createElement("div",{className:nt.a.header},"\u0421\u043f\u043e\u0440\u0442\u0438\u0432\u043d\u0430\u044f \u0441\u043e\u0446 \u0441\u0435\u0442\u044c",r.a.createElement("div",{className:nt.a.login_block},e.isAuth?r.a.createElement("div",null,e.login," -"," ",r.a.createElement("button",{className:nt.a.button,onClick:e.logout}," ","Log out")):r.a.createElement(_.b,{className:nt.a.white,to:"/login"},"Login")))},rt=n(41),st="network/auth/SET_USER_DATA",ot={userId:null,email:null,login:null,isAuth:!1},it=function(e,t,n,a){return{type:st,payload:{userId:e,email:t,login:n,isAuth:a}}},ut=function(){return function(){var e=Object(Z.a)(Y.a.mark((function e(t){var n,a,r,s,o;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X();case 2:0===(n=e.sent).data.resultCode&&(a=n.data.data,r=a.id,s=a.email,o=a.login,t(it(r,s,o,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case st:return Object(b.a)({},e,{},t.payload);default:return e}},ct=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.getAuthUserData()}},{key:"render",value:function(){return r.a.createElement(at,this.props)}}]),t}(r.a.Component),mt=Object(M.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{getAuthUserData:ut,logout:function(){return function(){var e=Object(Z.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$();case 2:0===e.sent.data.resultCode&&t(it(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(ct),pt=n(39),ft=n.n(pt),dt=Object(j.a)({form:"login"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:ft.a.form},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"login"}),r.a.createElement(A.a,{className:ft.a.item,rows:"1",name:"email",placeholder:"Email",component:F,type:"input",validate:[C]})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password"}),r.a.createElement(A.a,{className:ft.a.item,rows:"1",name:"password",placeholder:"Password",component:F,type:"input",validate:[y]})),r.a.createElement("div",null,r.a.createElement(A.a,{name:"remember",component:"input",type:"checkbox"}),r.a.createElement("label",{htmlFor:"\u0447\u0435\u043a\u0431\u043e\u043a\u0441"},"\u0437\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f")),e.error&&r.a.createElement("div",{className:ft.a.form__error},e.error),r.a.createElement("div",null,r.a.createElement("button",{className:ft.a.button},"\u0412\u043e\u0439\u0442\u0438")))})),gt=Object(M.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var a=Object(Z.a)(Y.a.mark((function a(r){return Y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,J(e,t,n);case 2:0===a.sent.data.resultCode?r(ut()):r(Object(rt.a)("login",{_error:"\u041e\u0448\u0438\u0431\u043e\u0447\u043a\u0430"}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){return e.isAuth?r.a.createElement(H.a,{to:"/profile"}):r.a.createElement("div",{className:ft.a.login},r.a.createElement("h1",null,"\u0412\u0445\u043e\u0434"),r.a.createElement(dt,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}}))})),_t={initialized:!1},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(b.a)({},e,{initialized:!0});default:return e}},Et={},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et;arguments.length>1&&arguments[1];return e},vt=n(137),Ot=n(127),Pt=Object(G.c)({profilePage:Fe,dialogsPage:O,sidebar:bt,usersPage:ue,auth:lt,form:Ot.a,app:ht}),St=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,wt=Object(G.e)(Pt,St(Object(G.a)(vt.a)));window.store=wt;var Nt=wt,At=(n(288),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement(Oe,null):r.a.createElement("div",{className:f.a.app},r.a.createElement(mt,null),r.a.createElement(h,null),r.a.createElement(H.b,{className:f.a.links,path:"/profile/:userId?",render:function(){return r.a.createElement(et,null)}}),r.a.createElement(H.b,{path:"/dialogs",render:function(){return r.a.createElement(Q,null)}}),r.a.createElement(H.b,{path:"/users",render:function(){return r.a.createElement(Ce,null)}}),r.a.createElement(H.b,{path:"/settings",render:function(){return r.a.createElement(Ie,null)}}),r.a.createElement(H.b,{path:"/login",render:function(){return r.a.createElement(gt,null)}}))}}]),t}(r.a.Component)),jt=Object(G.d)(H.f,Object(M.b)(null,{mapStateToProps:function(e){return{initialized:e.app.initialized}},initializeApp:function(){return function(e){var t=e(ut());Promise.all([t]).then((function(){e({type:"INITIALIZED_SUCCESS"})}))}}}))(At),kt=function(e){return r.a.createElement(_.a,{basename:"/learn-react"},r.a.createElement(M.a,{store:Nt},r.a.createElement(jt,null)))};o.a.render(r.a.createElement(kt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},34:function(e,t,n){e.exports={users:"Users_users__3CRqz",img:"Users_img__EIleU",getUsers:"Users_getUsers__3bCbi",user__item:"Users_user__item__sEsHJ",about:"Users_about__2DzQN",pages:"Users_pages__2uVyp",pages__item:"Users_pages__item__JmSPY"}},39:function(e,t,n){e.exports={login:"login_login__2TN2v",form:"login_form__2PLRu",button:"login_button__3uLR6",item:"login_item__3NiKY",form__error:"login_form__error__2lMQt"}},55:function(e,t,n){e.exports={header:"Header_header__1v0yI",login_block:"Header_login_block__3SeEB",white:"Header_white__blPTf",button:"Header_button__2M-9a"}},69:function(e,t,n){e.exports={area__input:"MyPosts_area__input___d9gO",post__send:"MyPosts_post__send__3MQHA"}},86:function(e,t,n){e.exports={header:"App_header__2L3DO",nav:"App_nav__UeHIZ",profile:"App_profile__23-mn",app:"App_app__2ziFi",black:"App_black__1Na4Q",links:"App_links__P2Quv"}},88:function(e,t,n){e.exports={form__control:"FormsControls_form__control__3mjoZ",error:"FormsControls_error__1QSyu"}},92:function(e,t,n){e.exports={pages__item:"Paginator_pages__item__1PS2q",pages:"Paginator_pages__2iq2D",selectedPage:"Paginator_selectedPage__1y9hK",pageNumber:"Paginator_pageNumber__iZYXW"}},93:function(e,t,n){e.exports={profile__item:"Profile_profile__item__KALKC",profile:"Profile_profile__15I9R"}},94:function(e,t,n){e.exports={post__item:"Post_post__item__ttykI",post__like:"Post_post__like__c4OTA"}}},[[163,1,2]]]);
//# sourceMappingURL=main.86a61b20.chunk.js.map